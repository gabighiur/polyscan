{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createHooks } from 'hookable';\nimport { PatchDomOnEntryUpdatesPlugin, maybeGetSSRHash } from '@unhead/dom';\nimport { defineHeadPlugin, resolveTitleTemplate, hashTag, hashCode, tagDedupeKey, HasElementTags, asArray as asArray$1, TagConfigKeys, TagsWithInnerContent, ValidHeadTags } from '@unhead/shared';\nconst TAG_WEIGHTS = {\n  // tags\n  base: -1,\n  title: 1\n};\nconst TAG_ALIASES = {\n  // relative scores to their default values\n  critical: -8,\n  high: -1,\n  low: 2\n};\nfunction tagWeight(tag) {\n  let weight = 10;\n  const priority = tag.tagPriority;\n  if (typeof priority === \"number\") return priority;\n  if (tag.tag === \"meta\") {\n    if (tag.props.charset) weight = -2;\n    if (tag.props[\"http-equiv\"] === \"content-security-policy\") weight = 0;\n  } else if (tag.tag in TAG_WEIGHTS) {\n    weight = TAG_WEIGHTS[tag.tag];\n  }\n  if (typeof priority === \"string\" && priority in TAG_ALIASES) {\n    return weight + TAG_ALIASES[priority];\n  }\n  return weight;\n}\nconst SortModifiers = [{\n  prefix: \"before:\",\n  offset: -1\n}, {\n  prefix: \"after:\",\n  offset: 1\n}];\nfunction SortTagsPlugin() {\n  return defineHeadPlugin({\n    hooks: {\n      \"tags:resolve\": ctx => {\n        const tagPositionForKey = key => ctx.tags.find(tag => tag._d === key)?._p;\n        for (const {\n          prefix,\n          offset\n        } of SortModifiers) {\n          for (const tag of ctx.tags.filter(tag2 => typeof tag2.tagPriority === \"string\" && tag2.tagPriority.startsWith(prefix))) {\n            const position = tagPositionForKey(tag.tagPriority.replace(prefix, \"\"));\n            if (typeof position !== \"undefined\") tag._p = position + offset;\n          }\n        }\n        ctx.tags.sort((a, b) => a._p - b._p).sort((a, b) => tagWeight(a) - tagWeight(b));\n      }\n    }\n  });\n}\nfunction TitleTemplatePlugin() {\n  return defineHeadPlugin({\n    hooks: {\n      \"tags:resolve\": ctx => {\n        const {\n          tags\n        } = ctx;\n        let titleTemplateIdx = tags.findIndex(i => i.tag === \"titleTemplate\");\n        const titleIdx = tags.findIndex(i => i.tag === \"title\");\n        if (titleIdx !== -1 && titleTemplateIdx !== -1) {\n          const newTitle = resolveTitleTemplate(tags[titleTemplateIdx].textContent, tags[titleIdx].textContent);\n          if (newTitle !== null) {\n            tags[titleIdx].textContent = newTitle || tags[titleIdx].textContent;\n          } else {\n            delete tags[titleIdx];\n          }\n        } else if (titleTemplateIdx !== -1) {\n          const newTitle = resolveTitleTemplate(tags[titleTemplateIdx].textContent);\n          if (newTitle !== null) {\n            tags[titleTemplateIdx].textContent = newTitle;\n            tags[titleTemplateIdx].tag = \"title\";\n            titleTemplateIdx = -1;\n          }\n        }\n        if (titleTemplateIdx !== -1) {\n          delete tags[titleTemplateIdx];\n        }\n        ctx.tags = tags.filter(Boolean);\n      }\n    }\n  });\n}\nfunction DeprecatedTagAttrPlugin() {\n  return defineHeadPlugin({\n    hooks: {\n      \"tag:normalise\": function ({\n        tag\n      }) {\n        if (typeof tag.props.body !== \"undefined\") {\n          tag.tagPosition = \"bodyClose\";\n          delete tag.props.body;\n        }\n      }\n    }\n  });\n}\nconst DupeableTags = [\"link\", \"style\", \"script\", \"noscript\"];\nfunction ProvideTagHashPlugin() {\n  return defineHeadPlugin({\n    hooks: {\n      \"tag:normalise\": ({\n        tag,\n        resolvedOptions\n      }) => {\n        if (resolvedOptions.experimentalHashHydration === true) {\n          tag._h = hashTag(tag);\n        }\n        if (tag.key && DupeableTags.includes(tag.tag)) {\n          tag._h = hashCode(tag.key);\n          tag.props[`data-h-${tag._h}`] = \"\";\n        }\n      }\n    }\n  });\n}\nconst ValidEventTags = [\"script\", \"link\", \"bodyAttrs\"];\nfunction EventHandlersPlugin() {\n  const stripEventHandlers = (mode, tag) => {\n    const props = {};\n    const eventHandlers = {};\n    Object.entries(tag.props).forEach(([key, value]) => {\n      if (key.startsWith(\"on\") && typeof value === \"function\") eventHandlers[key] = value;else props[key] = value;\n    });\n    let delayedSrc;\n    if (mode === \"dom\" && tag.tag === \"script\" && typeof props.src === \"string\" && typeof eventHandlers.onload !== \"undefined\") {\n      delayedSrc = props.src;\n      delete props.src;\n    }\n    return {\n      props,\n      eventHandlers,\n      delayedSrc\n    };\n  };\n  return defineHeadPlugin({\n    hooks: {\n      \"ssr:render\": function (ctx) {\n        ctx.tags = ctx.tags.map(tag => {\n          if (!ValidEventTags.includes(tag.tag)) return tag;\n          if (!Object.entries(tag.props).find(([key, value]) => key.startsWith(\"on\") && typeof value === \"function\")) return tag;\n          tag.props = stripEventHandlers(\"ssr\", tag).props;\n          return tag;\n        });\n      },\n      \"dom:beforeRenderTag\": function (ctx) {\n        if (!ValidEventTags.includes(ctx.tag.tag)) return;\n        if (!Object.entries(ctx.tag.props).find(([key, value]) => key.startsWith(\"on\") && typeof value === \"function\")) return;\n        const {\n          props,\n          eventHandlers,\n          delayedSrc\n        } = stripEventHandlers(\"dom\", ctx.tag);\n        if (!Object.keys(eventHandlers).length) return;\n        ctx.tag.props = props;\n        ctx.tag._eventHandlers = eventHandlers;\n        ctx.tag._delayedSrc = delayedSrc;\n      },\n      \"dom:renderTag\": function (ctx) {\n        const $el = ctx.$el;\n        if (!ctx.tag._eventHandlers || !$el) return;\n        const $eventListenerTarget = ctx.tag.tag === \"bodyAttrs\" && typeof window !== \"undefined\" ? window : $el;\n        Object.entries(ctx.tag._eventHandlers).forEach(([k, value]) => {\n          const sdeKey = `${ctx.tag._d || ctx.tag._p}:${k}`;\n          const eventName = k.slice(2).toLowerCase();\n          const eventDedupeKey = `data-h-${eventName}`;\n          ctx.markSideEffect(sdeKey, () => {});\n          if ($el.hasAttribute(eventDedupeKey)) return;\n          const handler = value;\n          $el.setAttribute(eventDedupeKey, \"\");\n          $eventListenerTarget.addEventListener(eventName, handler);\n          if (ctx.entry) {\n            ctx.entry._sde[sdeKey] = () => {\n              $eventListenerTarget.removeEventListener(eventName, handler);\n              $el.removeAttribute(eventDedupeKey);\n            };\n          }\n        });\n        if (ctx.tag._delayedSrc) {\n          $el.setAttribute(\"src\", ctx.tag._delayedSrc);\n        }\n      }\n    }\n  });\n}\nconst UsesMergeStrategy = [\"templateParams\", \"htmlAttrs\", \"bodyAttrs\"];\nfunction DedupesTagsPlugin() {\n  return defineHeadPlugin({\n    hooks: {\n      \"tag:normalise\": function ({\n        tag\n      }) {\n        [\"hid\", \"vmid\", \"key\"].forEach(key => {\n          if (tag.props[key]) {\n            tag.key = tag.props[key];\n            delete tag.props[key];\n          }\n        });\n        const generatedKey = tagDedupeKey(tag);\n        const dedupe = generatedKey || (tag.key ? `${tag.tag}:${tag.key}` : false);\n        if (dedupe) tag._d = dedupe;\n      },\n      \"tags:resolve\": function (ctx) {\n        const deduping = {};\n        ctx.tags.forEach(tag => {\n          const dedupeKey = (tag.key ? `${tag.tag}:${tag.key}` : tag._d) || tag._p;\n          const dupedTag = deduping[dedupeKey];\n          if (dupedTag) {\n            let strategy = tag?.tagDuplicateStrategy;\n            if (!strategy && UsesMergeStrategy.includes(tag.tag)) strategy = \"merge\";\n            if (strategy === \"merge\") {\n              const oldProps = dupedTag.props;\n              [\"class\", \"style\"].forEach(key => {\n                if (tag.props[key] && oldProps[key]) {\n                  if (key === \"style\" && !oldProps[key].endsWith(\";\")) oldProps[key] += \";\";\n                  tag.props[key] = `${oldProps[key]} ${tag.props[key]}`;\n                }\n              });\n              deduping[dedupeKey].props = {\n                ...oldProps,\n                ...tag.props\n              };\n              return;\n            } else if (tag._e === dupedTag._e) {\n              dupedTag._duped = dupedTag._duped || [];\n              tag._d = `${dupedTag._d}:${dupedTag._duped.length + 1}`;\n              dupedTag._duped.push(tag);\n              return;\n            } else if (tagWeight(tag) > tagWeight(dupedTag)) {\n              return;\n            }\n          }\n          const propCount = Object.keys(tag.props).length + (tag.innerHTML ? 1 : 0) + (tag.textContent ? 1 : 0);\n          if (HasElementTags.includes(tag.tag) && propCount === 0) {\n            delete deduping[dedupeKey];\n            return;\n          }\n          deduping[dedupeKey] = tag;\n        });\n        const newTags = [];\n        Object.values(deduping).forEach(tag => {\n          const dupes = tag._duped;\n          delete tag._duped;\n          newTags.push(tag);\n          if (dupes) newTags.push(...dupes);\n        });\n        ctx.tags = newTags;\n      }\n    }\n  });\n}\nfunction processTemplateParams(s, p) {\n  if (typeof s !== \"string\") return s;\n  function sub(token) {\n    if ([\"s\", \"pageTitle\"].includes(token)) return p.pageTitle;\n    let val;\n    if (token.includes(\".\")) {\n      val = token.split(\".\").reduce((acc, key) => acc ? acc[key] || void 0 : void 0, p);\n    } else {\n      val = p[token];\n    }\n    return typeof val !== \"undefined\" ? val || \"\" : false;\n  }\n  let decoded = s;\n  try {\n    decoded = decodeURI(s);\n  } catch {}\n  const tokens = (decoded.match(/%(\\w+\\.+\\w+)|%(\\w+)/g) || []).sort().reverse();\n  tokens.forEach(token => {\n    const re = sub(token.slice(1));\n    if (typeof re === \"string\") {\n      s = s.replace(new RegExp(`\\\\${token}(\\\\W|$)`, \"g\"), `${re}$1`).trim();\n    }\n  });\n  const sep = p.separator;\n  if (s.includes(sep)) {\n    if (s.endsWith(sep)) s = s.slice(0, -sep.length).trim();\n    if (s.startsWith(sep)) s = s.slice(sep.length).trim();\n    s = s.replace(new RegExp(`\\\\${sep}\\\\s*\\\\${sep}`, \"g\"), sep);\n  }\n  return s;\n}\nfunction TemplateParamsPlugin() {\n  return defineHeadPlugin({\n    hooks: {\n      \"tags:resolve\": ctx => {\n        const {\n          tags\n        } = ctx;\n        const title = tags.find(tag => tag.tag === \"title\")?.textContent;\n        const idx = tags.findIndex(tag => tag.tag === \"templateParams\");\n        const params = idx !== -1 ? tags[idx].props : {};\n        params.separator = params.separator || \"|\";\n        params.pageTitle = processTemplateParams(params.pageTitle || title || \"\", params);\n        for (const tag of tags) {\n          if ([\"titleTemplate\", \"title\"].includes(tag.tag) && typeof tag.textContent === \"string\") {\n            tag.textContent = processTemplateParams(tag.textContent, params);\n          } else if (tag.tag === \"meta\" && typeof tag.props.content === \"string\") {\n            tag.props.content = processTemplateParams(tag.props.content, params);\n          } else if (tag.tag === \"link\" && typeof tag.props.href === \"string\") {\n            tag.props.href = processTemplateParams(tag.props.href, params);\n          } else if (tag.tag === \"script\" && [\"application/json\", \"application/ld+json\"].includes(tag.props.type) && typeof tag.innerHTML === \"string\") {\n            try {\n              tag.innerHTML = JSON.stringify(JSON.parse(tag.innerHTML), (key, val) => {\n                if (typeof val === \"string\") return processTemplateParams(val, params);\n                return val;\n              });\n            } catch {}\n          }\n        }\n        ctx.tags = tags.filter(tag => tag.tag !== \"templateParams\");\n      }\n    }\n  });\n}\nconst IsBrowser = typeof window !== \"undefined\";\nlet activeHead;\nfunction setActiveHead(head) {\n  return activeHead = head;\n}\nfunction getActiveHead() {\n  return activeHead;\n}\nfunction useHead(input, options = {}) {\n  const head = getActiveHead();\n  if (head) {\n    const isBrowser = IsBrowser || head.resolvedOptions?.document;\n    if (options.mode === \"server\" && isBrowser || options.mode === \"client\" && !isBrowser) return;\n    return head.push(input, options);\n  }\n}\nfunction useHeadSafe(input, options = {}) {\n  return useHead(input, {\n    ...(options || {}),\n    transform: whitelistSafeInput\n  });\n}\nfunction useServerHead(input, options = {}) {\n  return useHead(input, {\n    ...options,\n    mode: \"server\"\n  });\n}\nfunction useServerHeadSafe(input, options = {}) {\n  return useHeadSafe(input, {\n    ...options,\n    mode: \"server\"\n  });\n}\nfunction useSeoMeta(input, options) {\n  const {\n    title,\n    titleTemplate,\n    ...meta\n  } = input;\n  return useHead({\n    title,\n    titleTemplate,\n    meta: unpackMeta(meta)\n  }, options);\n}\nfunction useServerSeoMeta(input, options) {\n  return useSeoMeta(input, {\n    ...(options || {}),\n    mode: \"server\"\n  });\n}\nfunction useTagTitle(title) {\n  return useHead({\n    title\n  });\n}\nfunction useTagBase(base) {\n  return useHead({\n    base\n  });\n}\nfunction useTagMeta(meta) {\n  return useHead({\n    meta: asArray$1(meta)\n  });\n}\nfunction useTagMetaFlat(meta) {\n  return useTagMeta(unpackMeta(meta));\n}\nfunction useTagLink(link) {\n  return useHead({\n    link: asArray$1(link)\n  });\n}\nfunction useTagScript(script) {\n  return useHead({\n    script: asArray$1(script)\n  });\n}\nfunction useTagStyle(style) {\n  return useHead({\n    style: asArray$1(style)\n  });\n}\nfunction useTagNoscript(noscript) {\n  return useHead({\n    noscript: asArray$1(noscript)\n  });\n}\nfunction useHtmlAttrs(attrs) {\n  return useHead({\n    htmlAttrs: attrs\n  });\n}\nfunction useBodyAttrs(attrs) {\n  return useHead({\n    bodyAttrs: attrs\n  });\n}\nfunction useTitleTemplate(titleTemplate) {\n  return useHead({\n    titleTemplate\n  });\n}\nfunction useServerTagTitle(title) {\n  return useServerHead({\n    title\n  });\n}\nfunction useServerTagBase(base) {\n  return useServerHead({\n    base\n  });\n}\nfunction useServerTagMeta(meta) {\n  return useServerHead({\n    meta: asArray$1(meta)\n  });\n}\nfunction useServerTagMetaFlat(meta) {\n  return useServerTagMeta(unpackMeta(meta));\n}\nfunction useServerTagLink(link) {\n  return useServerHead({\n    link: asArray$1(link)\n  });\n}\nfunction useServerTagScript(script) {\n  return useServerHead({\n    script: asArray$1(script)\n  });\n}\nfunction useServerTagStyle(style) {\n  return useServerHead({\n    style: asArray$1(style)\n  });\n}\nfunction useServerTagNoscript(noscript) {\n  return useServerHead({\n    noscript: asArray$1(noscript)\n  });\n}\nfunction useServerHtmlAttrs(attrs) {\n  return useServerHead({\n    htmlAttrs: attrs\n  });\n}\nfunction useServerBodyAttrs(attrs) {\n  return useServerHead({\n    bodyAttrs: attrs\n  });\n}\nfunction useServerTitleTemplate(titleTemplate) {\n  return useServerHead({\n    titleTemplate\n  });\n}\nfunction asArray(input) {\n  return Array.isArray(input) ? input : [input];\n}\nconst InternalKeySymbol = \"_$key\";\nfunction packObject(input, options) {\n  const keys = Object.keys(input);\n  let [k, v] = keys;\n  options = options || {};\n  options.key = options.key || k;\n  options.value = options.value || v;\n  options.resolveKey = options.resolveKey || (k2 => k2);\n  const resolveKey = index => {\n    const arr = asArray(options?.[index]);\n    return arr.find(k2 => {\n      if (typeof k2 === \"string\" && k2.includes(\".\")) {\n        return k2;\n      }\n      return k2 && keys.includes(k2);\n    });\n  };\n  const resolveValue = (k2, input2) => {\n    if (k2.includes(\".\")) {\n      const paths = k2.split(\".\");\n      let val = input2;\n      for (const path of paths) val = val[path];\n      return val;\n    }\n    return input2[k2];\n  };\n  k = resolveKey(\"key\") || k;\n  v = resolveKey(\"value\") || v;\n  const dedupeKeyPrefix = input.key ? `${InternalKeySymbol}${input.key}-` : \"\";\n  let keyValue = resolveValue(k, input);\n  keyValue = options.resolveKey(keyValue);\n  return {\n    [`${dedupeKeyPrefix}${keyValue}`]: resolveValue(v, input)\n  };\n}\nfunction packArray(input, options) {\n  const packed = {};\n  for (const i of input) {\n    const packedObj = packObject(i, options);\n    const pKey = Object.keys(packedObj)[0];\n    const isDedupeKey = pKey.startsWith(InternalKeySymbol);\n    if (!isDedupeKey && packed[pKey]) {\n      packed[pKey] = Array.isArray(packed[pKey]) ? packed[pKey] : [packed[pKey]];\n      packed[pKey].push(Object.values(packedObj)[0]);\n    } else {\n      packed[isDedupeKey ? pKey.split(\"-\").slice(1).join(\"-\") || pKey : pKey] = packedObj[pKey];\n    }\n  }\n  return packed;\n}\nfunction unpackToArray(input, options) {\n  const unpacked = [];\n  const kFn = options.resolveKeyData || (ctx => ctx.key);\n  const vFn = options.resolveValueData || (ctx => ctx.value);\n  for (const [k, v] of Object.entries(input)) {\n    unpacked.push(...(Array.isArray(v) ? v : [v]).map(i => {\n      const ctx = {\n        key: k,\n        value: i\n      };\n      const val = vFn(ctx);\n      if (typeof val === \"object\") return unpackToArray(val, options);\n      if (Array.isArray(val)) return val;\n      return {\n        [typeof options.key === \"function\" ? options.key(ctx) : options.key]: kFn(ctx),\n        [typeof options.value === \"function\" ? options.value(ctx) : options.value]: val\n      };\n    }).flat());\n  }\n  return unpacked;\n}\nfunction unpackToString(value, options) {\n  return Object.entries(value).map(([key, value2]) => {\n    if (typeof value2 === \"object\") value2 = unpackToString(value2, options);\n    if (options.resolve) {\n      const resolved = options.resolve({\n        key,\n        value: value2\n      });\n      if (resolved) return resolved;\n    }\n    if (typeof value2 === \"number\") value2 = value2.toString();\n    if (typeof value2 === \"string\" && options.wrapValue) {\n      value2 = value2.replace(new RegExp(options.wrapValue, \"g\"), `\\\\${options.wrapValue}`);\n      value2 = `${options.wrapValue}${value2}${options.wrapValue}`;\n    }\n    return `${key}${options.keyValueSeparator || \"\"}${value2}`;\n  }).join(options.entrySeparator || \"\");\n}\nconst MetaPackingSchema = {\n  robots: {\n    unpack: {\n      keyValueSeparator: \":\"\n    }\n  },\n  // Pragma directives\n  contentSecurityPolicy: {\n    unpack: {\n      keyValueSeparator: \" \",\n      entrySeparator: \"; \"\n    },\n    metaKey: \"http-equiv\"\n  },\n  fbAppId: {\n    keyValue: \"fb:app_id\",\n    metaKey: \"property\"\n  },\n  ogSiteName: {\n    keyValue: \"og:site_name\"\n  },\n  msapplicationTileImage: {\n    keyValue: \"msapplication-TileImage\"\n  },\n  /**\n   * Tile colour for windows\n   */\n  msapplicationTileColor: {\n    keyValue: \"msapplication-TileColor\"\n  },\n  /**\n   * URL of a config for windows tile.\n   */\n  msapplicationConfig: {\n    keyValue: \"msapplication-Config\"\n  },\n  charset: {\n    metaKey: \"charset\"\n  },\n  contentType: {\n    metaKey: \"http-equiv\"\n  },\n  defaultStyle: {\n    metaKey: \"http-equiv\"\n  },\n  xUaCompatible: {\n    metaKey: \"http-equiv\"\n  },\n  refresh: {\n    metaKey: \"http-equiv\"\n  }\n};\nfunction packMeta(inputs) {\n  const mappedPackingSchema = Object.entries(MetaPackingSchema).map(([key, value]) => [key, value.keyValue]);\n  return packArray(inputs, {\n    key: [\"name\", \"property\", \"httpEquiv\", \"http-equiv\", \"charset\"],\n    value: [\"content\", \"charset\"],\n    resolveKey(k) {\n      let key = mappedPackingSchema.filter(sk => sk[1] === k)?.[0]?.[0] || k;\n      const replacer = (_, letter) => letter?.toUpperCase();\n      key = key.replace(/:([a-z])/g, replacer).replace(/-([a-z])/g, replacer);\n      return key;\n    }\n  });\n}\nconst OpenGraphInputs = [\"og:Image\", \"og:Video\", \"og:Audio\", \"twitter:Image\"];\nconst SimpleArrayUnpackMetas = [\"themeColor\"];\nconst ColonPrefixKeys = /^(og|twitter|fb)/;\nconst PropertyPrefixKeys = /^(og|fb)/;\nfunction resolveMetaKeyType(key) {\n  return PropertyPrefixKeys.test(key) ? \"property\" : MetaPackingSchema[key]?.metaKey || \"name\";\n}\nfunction resolveMetaKeyValue(key) {\n  return MetaPackingSchema[key]?.keyValue || fixKeyCase(key);\n}\nfunction fixKeyCase(key) {\n  key = key.replace(/([A-Z])/g, \"-$1\").toLowerCase();\n  if (ColonPrefixKeys.test(key)) {\n    key = key.replace(\"secure-url\", \"secure_url\").replace(/-/g, \":\");\n  }\n  return key;\n}\nfunction changeKeyCasingDeep(input) {\n  if (Array.isArray(input)) {\n    return input.map(entry => changeKeyCasingDeep(entry));\n  }\n  if (typeof input !== \"object\" || Array.isArray(input)) return input;\n  const output = {};\n  for (const [key, value] of Object.entries(input)) output[fixKeyCase(key)] = changeKeyCasingDeep(value);\n  return output;\n}\nfunction unpackMeta(input) {\n  const extras = [];\n  OpenGraphInputs.forEach(key => {\n    const propKey = key.toLowerCase();\n    const inputKey = `${key.replace(\":\", \"\")}`;\n    const val = input[inputKey];\n    if (typeof val === \"object\") {\n      (Array.isArray(val) ? val : [val]).forEach(entry => {\n        if (!entry) return;\n        const unpackedEntry = unpackToArray(entry, {\n          key: key.startsWith(\"og\") ? \"property\" : \"name\",\n          value: \"content\",\n          resolveKeyData({\n            key: key2\n          }) {\n            return fixKeyCase(`${propKey}${key2 !== \"url\" ? `:${key2}` : \"\"}`);\n          },\n          resolveValueData({\n            value\n          }) {\n            return typeof value === \"number\" ? value.toString() : value;\n          }\n        });\n        extras.push(...unpackedEntry.sort((a, b) => a.property === propKey ? -1 : b.property === propKey ? 1 : 0));\n      });\n      delete input[inputKey];\n    }\n  });\n  SimpleArrayUnpackMetas.forEach(meta2 => {\n    if (input[meta2] && typeof input[meta2] !== \"string\") {\n      const val = Array.isArray(input[meta2]) ? input[meta2] : [input[meta2]];\n      delete input[meta2];\n      val.forEach(entry => {\n        extras.push({\n          name: fixKeyCase(meta2),\n          ...entry\n        });\n      });\n    }\n  });\n  const meta = unpackToArray(input, {\n    key({\n      key\n    }) {\n      return resolveMetaKeyType(key);\n    },\n    value({\n      key\n    }) {\n      return key === \"charset\" ? \"charset\" : \"content\";\n    },\n    resolveKeyData({\n      key\n    }) {\n      return resolveMetaKeyValue(key);\n    },\n    resolveValueData({\n      value,\n      key\n    }) {\n      if (value === null) return \"_null\";\n      if (typeof value === \"object\") return resolvePackedMetaObjectValue(value, key);\n      return typeof value === \"number\" ? value.toString() : value;\n    }\n  });\n  return [...extras, ...meta].filter(v => typeof v.content === \"undefined\" || v.content !== \"_null\");\n}\nfunction resolvePackedMetaObjectValue(value, key) {\n  const definition = MetaPackingSchema[key];\n  if (key === \"refresh\") return `${value.seconds};url=${value.url}`;\n  return unpackToString(changeKeyCasingDeep(value), {\n    entrySeparator: \", \",\n    keyValueSeparator: \"=\",\n    resolve({\n      value: value2,\n      key: key2\n    }) {\n      if (value2 === null) return \"\";\n      if (typeof value2 === \"boolean\") return `${key2}`;\n    },\n    ...definition?.unpack\n  });\n}\nasync function normaliseTag(tagName, input, e) {\n  const tag = {\n    tag: tagName,\n    props: {}\n  };\n  if (input instanceof Promise) input = await input;\n  if (tagName === \"templateParams\") {\n    tag.props = input;\n    return tag;\n  }\n  if ([\"title\", \"titleTemplate\"].includes(tagName)) {\n    if (input && typeof input === \"object\") {\n      tag.textContent = input.textContent;\n      if (input.tagPriority) tag.tagPriority = input.tagPriority;\n    } else {\n      tag.textContent = input;\n    }\n    return tag;\n  }\n  if (typeof input === \"string\") {\n    if (![\"script\", \"noscript\", \"style\"].includes(tagName)) return false;\n    if (tagName === \"script\" && (/^(https?:)?\\/\\//.test(input) || input.startsWith(\"/\"))) tag.props.src = input;else tag.innerHTML = input;\n    return tag;\n  }\n  tag.props = await normaliseProps(tagName, {\n    ...input\n  });\n  if (tag.props.children) {\n    tag.props.innerHTML = tag.props.children;\n  }\n  delete tag.props.children;\n  Object.keys(tag.props).filter(k => TagConfigKeys.includes(k)).forEach(k => {\n    if (![\"innerHTML\", \"textContent\"].includes(k) || TagsWithInnerContent.includes(tag.tag)) {\n      tag[k] = tag.props[k];\n    }\n    delete tag.props[k];\n  });\n  TagConfigKeys.forEach(k => {\n    if (!tag[k] && e[k]) {\n      tag[k] = e[k];\n    }\n  });\n  [\"innerHTML\", \"textContent\"].forEach(k => {\n    if (tag.tag === \"script\" && typeof tag[k] === \"string\" && [\"application/ld+json\", \"application/json\"].includes(tag.props.type)) {\n      try {\n        tag[k] = JSON.parse(tag[k]);\n      } catch (e2) {\n        tag[k] = \"\";\n      }\n    }\n    if (typeof tag[k] === \"object\") tag[k] = JSON.stringify(tag[k]);\n  });\n  if (tag.props.class) tag.props.class = normaliseClassProp(tag.props.class);\n  if (tag.props.content && Array.isArray(tag.props.content)) return tag.props.content.map(v => ({\n    ...tag,\n    props: {\n      ...tag.props,\n      content: v\n    }\n  }));\n  return tag;\n}\nfunction normaliseClassProp(v) {\n  if (typeof v === \"object\" && !Array.isArray(v)) {\n    v = Object.keys(v).filter(k => v[k]);\n  }\n  return (Array.isArray(v) ? v.join(\" \") : v).split(\" \").filter(c => c.trim()).filter(Boolean).join(\" \");\n}\nasync function normaliseProps(tagName, props) {\n  for (const k of Object.keys(props)) {\n    const isDataKey = k.startsWith(\"data-\");\n    if (props[k] instanceof Promise) {\n      props[k] = await props[k];\n    }\n    if (String(props[k]) === \"true\") {\n      props[k] = isDataKey ? \"true\" : \"\";\n    } else if (String(props[k]) === \"false\") {\n      if (isDataKey) {\n        props[k] = \"false\";\n      } else {\n        delete props[k];\n      }\n    }\n  }\n  return props;\n}\nconst TagEntityBits = 10;\nasync function normaliseEntryTags(e) {\n  const tagPromises = [];\n  Object.entries(e.resolvedInput).filter(([k, v]) => typeof v !== \"undefined\" && ValidHeadTags.includes(k)).forEach(([k, value]) => {\n    const v = asArray$1(value);\n    tagPromises.push(...v.map(props => normaliseTag(k, props, e)).flat());\n  });\n  return (await Promise.all(tagPromises)).flat().filter(Boolean).map((t, i) => {\n    t._e = e._i;\n    t._p = (e._i << TagEntityBits) + i;\n    return t;\n  });\n}\nconst WhitelistAttributes = {\n  htmlAttrs: [\"id\", \"class\", \"lang\", \"dir\"],\n  bodyAttrs: [\"id\", \"class\"],\n  meta: [\"id\", \"name\", \"property\", \"charset\", \"content\"],\n  noscript: [\"id\", \"textContent\"],\n  script: [\"id\", \"type\", \"textContent\"],\n  link: [\"id\", \"color\", \"crossorigin\", \"fetchpriority\", \"href\", \"hreflang\", \"imagesrcset\", \"imagesizes\", \"integrity\", \"media\", \"referrerpolicy\", \"rel\", \"sizes\", \"type\"]\n};\nfunction whitelistSafeInput(input) {\n  const filtered = {};\n  Object.keys(input).forEach(key => {\n    const tagValue = input[key];\n    if (!tagValue) return;\n    switch (key) {\n      case \"title\":\n      case \"titleTemplate\":\n      case \"templateParams\":\n        filtered[key] = tagValue;\n        break;\n      case \"htmlAttrs\":\n      case \"bodyAttrs\":\n        filtered[key] = {};\n        WhitelistAttributes[key].forEach(a => {\n          if (tagValue[a]) filtered[key][a] = tagValue[a];\n        });\n        Object.keys(tagValue || {}).filter(a => a.startsWith(\"data-\")).forEach(a => {\n          filtered[key][a] = tagValue[a];\n        });\n        break;\n      case \"meta\":\n        if (Array.isArray(tagValue)) {\n          filtered[key] = tagValue.map(meta => {\n            const safeMeta = {};\n            WhitelistAttributes.meta.forEach(key2 => {\n              if (meta[key2] || key2.startsWith(\"data-\")) safeMeta[key2] = meta[key2];\n            });\n            return safeMeta;\n          }).filter(meta => Object.keys(meta).length > 0);\n        }\n        break;\n      case \"link\":\n        if (Array.isArray(tagValue)) {\n          filtered[key] = tagValue.map(meta => {\n            const link = {};\n            WhitelistAttributes.link.forEach(key2 => {\n              const val = meta[key2];\n              if (key2 === \"rel\" && [\"stylesheet\", \"canonical\", \"modulepreload\", \"prerender\", \"preload\", \"prefetch\"].includes(val)) return;\n              if (key2 === \"href\") {\n                if (val.includes(\"javascript:\") || val.includes(\"data:\")) return;\n                link[key2] = val;\n              } else if (val || key2.startsWith(\"data-\")) {\n                link[key2] = val;\n              }\n            });\n            return link;\n          }).filter(link => Object.keys(link).length > 1 && !!link.rel);\n        }\n        break;\n      case \"noscript\":\n        if (Array.isArray(tagValue)) {\n          filtered[key] = tagValue.map(meta => {\n            const noscript = {};\n            WhitelistAttributes.noscript.forEach(key2 => {\n              if (meta[key2] || key2.startsWith(\"data-\")) noscript[key2] = meta[key2];\n            });\n            return noscript;\n          }).filter(meta => Object.keys(meta).length > 0);\n        }\n        break;\n      case \"script\":\n        if (Array.isArray(tagValue)) {\n          filtered[key] = tagValue.map(script => {\n            const safeScript = {};\n            WhitelistAttributes.script.forEach(s => {\n              if (script[s] || s.startsWith(\"data-\")) {\n                if (s === \"textContent\") {\n                  try {\n                    const jsonVal = typeof script[s] === \"string\" ? JSON.parse(script[s]) : script[s];\n                    safeScript[s] = JSON.stringify(jsonVal, null, 0);\n                  } catch (e) {}\n                } else {\n                  safeScript[s] = script[s];\n                }\n              }\n            });\n            return safeScript;\n          }).filter(meta => Object.keys(meta).length > 0);\n        }\n        break;\n    }\n  });\n  return filtered;\n}\nfunction CorePlugins() {\n  return [\n  // dedupe needs to come first\n  DedupesTagsPlugin(), SortTagsPlugin(), TemplateParamsPlugin(), TitleTemplatePlugin(), ProvideTagHashPlugin(), EventHandlersPlugin(), DeprecatedTagAttrPlugin()];\n}\nfunction DOMPlugins(options = {}) {\n  return [PatchDomOnEntryUpdatesPlugin({\n    document: options?.document,\n    delayFn: options?.domDelayFn\n  })];\n}\nfunction createHead(options = {}) {\n  const head = createHeadCore({\n    ...options,\n    plugins: [...DOMPlugins(options), ...(options?.plugins || [])]\n  });\n  if (options.experimentalHashHydration && head.resolvedOptions.document) head._hash = maybeGetSSRHash(head.resolvedOptions.document);\n  setActiveHead(head);\n  return head;\n}\nfunction createServerHead(options = {}) {\n  const head = createHeadCore({\n    ...options,\n    mode: \"server\"\n  });\n  setActiveHead(head);\n  return head;\n}\nfunction createHeadCore(options = {}) {\n  let entries = [];\n  let _sde = {};\n  let _eid = 0;\n  const hooks = createHooks();\n  if (options?.hooks) hooks.addHooks(options.hooks);\n  options.plugins = [...CorePlugins(), ...(options?.plugins || [])];\n  options.plugins.forEach(p => p.hooks && hooks.addHooks(p.hooks));\n  options.document = options.document || (IsBrowser ? document : void 0);\n  const updated = () => hooks.callHook(\"entries:updated\", head);\n  const head = {\n    resolvedOptions: options,\n    headEntries() {\n      return entries;\n    },\n    get hooks() {\n      return hooks;\n    },\n    use(plugin) {\n      if (plugin.hooks) hooks.addHooks(plugin.hooks);\n    },\n    push(input, entryOptions) {\n      const activeEntry = {\n        _i: _eid++,\n        input,\n        _sde: {},\n        ...entryOptions\n      };\n      const mode = activeEntry?.mode || options.mode;\n      if (mode) activeEntry.mode = mode;\n      entries.push(activeEntry);\n      updated();\n      return {\n        dispose() {\n          entries = entries.filter(e => {\n            if (e._i !== activeEntry._i) return true;\n            _sde = {\n              ..._sde,\n              ...(e._sde || {})\n            };\n            e._sde = {};\n            updated();\n            return false;\n          });\n        },\n        // a patch is the same as creating a new entry, just a nice DX\n        patch(input2) {\n          entries = entries.map(e => {\n            if (e._i === activeEntry._i) {\n              activeEntry.input = e.input = input2;\n              updated();\n            }\n            return e;\n          });\n        }\n      };\n    },\n    async resolveTags() {\n      const resolveCtx = {\n        tags: [],\n        entries: [...entries]\n      };\n      await hooks.callHook(\"entries:resolve\", resolveCtx);\n      for (const entry of resolveCtx.entries) {\n        const resolved = entry.resolvedInput || entry.input;\n        entry.resolvedInput = entry.transform ? entry.transform(resolved) : resolved;\n        if (entry.resolvedInput) {\n          for (const tag of await normaliseEntryTags(entry)) {\n            const tagCtx = {\n              tag,\n              entry,\n              resolvedOptions: head.resolvedOptions\n            };\n            await hooks.callHook(\"tag:normalise\", tagCtx);\n            resolveCtx.tags.push(tagCtx.tag);\n          }\n        }\n      }\n      await hooks.callHook(\"tags:resolve\", resolveCtx);\n      return resolveCtx.tags;\n    },\n    _popSideEffectQueue() {\n      const sde = {\n        ..._sde\n      };\n      _sde = {};\n      return sde;\n    },\n    _elMap: {}\n  };\n  head.hooks.callHook(\"init\", head);\n  return head;\n}\nconst coreComposableNames = [\"getActiveHead\"];\nconst composableNames = [\"useHead\", \"useSeoMeta\", \"useHeadSafe\", \"useServerHead\", \"useServerSeoMeta\", \"useServerHeadSafe\",\n// deprecated\n\"useTagTitle\", \"useTagBase\", \"useTagMeta\", \"useTagMetaFlat\", \"useTagLink\", \"useTagScript\", \"useTagStyle\", \"useTagNoscript\", \"useHtmlAttrs\", \"useBodyAttrs\", \"useTitleTemplate\", \"useServerTagTitle\", \"useServerTagBase\", \"useServerTagMeta\", \"useServerTagMetaFlat\", \"useServerTagLink\", \"useServerTagScript\", \"useServerTagStyle\", \"useServerTagNoscript\", \"useServerHtmlAttrs\", \"useServerBodyAttrs\", \"useServerTitleTemplate\"];\nconst unheadComposablesImports = [{\n  from: \"unhead\",\n  imports: [...coreComposableNames, ...composableNames]\n}];\nexport { CorePlugins, DOMPlugins, DedupesTagsPlugin, DeprecatedTagAttrPlugin, EventHandlersPlugin, ProvideTagHashPlugin, SortModifiers, SortTagsPlugin, TAG_ALIASES, TAG_WEIGHTS, TagEntityBits, TemplateParamsPlugin, TitleTemplatePlugin, activeHead, composableNames, createHead, createHeadCore, createServerHead, getActiveHead, normaliseClassProp, normaliseEntryTags, normaliseProps, normaliseTag, packMeta, processTemplateParams, resolveMetaKeyType, resolveMetaKeyValue, resolvePackedMetaObjectValue, setActiveHead, tagWeight, unheadComposablesImports, unpackMeta, useBodyAttrs, useHead, useHeadSafe, useHtmlAttrs, useSeoMeta, useServerBodyAttrs, useServerHead, useServerHeadSafe, useServerHtmlAttrs, useServerSeoMeta, useServerTagBase, useServerTagLink, useServerTagMeta, useServerTagMetaFlat, useServerTagNoscript, useServerTagScript, useServerTagStyle, useServerTagTitle, useServerTitleTemplate, useTagBase, useTagLink, useTagMeta, useTagMetaFlat, useTagNoscript, useTagScript, useTagStyle, useTagTitle, useTitleTemplate, whitelistSafeInput };","map":{"version":3,"names":["createHooks","PatchDomOnEntryUpdatesPlugin","maybeGetSSRHash","defineHeadPlugin","resolveTitleTemplate","hashTag","hashCode","tagDedupeKey","HasElementTags","asArray","asArray$1","TagConfigKeys","TagsWithInnerContent","ValidHeadTags","TAG_WEIGHTS","base","title","TAG_ALIASES","critical","high","low","tagWeight","tag","weight","priority","tagPriority","props","charset","SortModifiers","prefix","offset","SortTagsPlugin","hooks","ctx","tagPositionForKey","key","tags","find","_d","_p","filter","tag2","startsWith","position","replace","sort","a","b","TitleTemplatePlugin","titleTemplateIdx","findIndex","i","titleIdx","newTitle","textContent","Boolean","DeprecatedTagAttrPlugin","tag:normalise","body","tagPosition","DupeableTags","ProvideTagHashPlugin","resolvedOptions","experimentalHashHydration","_h","includes","ValidEventTags","EventHandlersPlugin","stripEventHandlers","mode","eventHandlers","Object","entries","forEach","value","delayedSrc","src","onload","ssr:render","map","dom:beforeRenderTag","keys","length","_eventHandlers","_delayedSrc","dom:renderTag","$el","$eventListenerTarget","window","k","sdeKey","eventName","slice","toLowerCase","eventDedupeKey","markSideEffect","hasAttribute","handler","setAttribute","addEventListener","entry","_sde","removeEventListener","removeAttribute","UsesMergeStrategy","DedupesTagsPlugin","generatedKey","dedupe","tags:resolve","deduping","dedupeKey","dupedTag","strategy","tagDuplicateStrategy","oldProps","endsWith","_e","_duped","push","propCount","innerHTML","newTags","values","dupes","processTemplateParams","s","p","sub","token","pageTitle","val","split","reduce","acc","decoded","decodeURI","tokens","match","reverse","re","RegExp","trim","sep","separator","TemplateParamsPlugin","idx","params","content","href","type","JSON","stringify","parse","IsBrowser","activeHead","setActiveHead","head","getActiveHead","useHead","input","options","isBrowser","document","useHeadSafe","transform","whitelistSafeInput","useServerHead","useServerHeadSafe","useSeoMeta","titleTemplate","meta","unpackMeta","useServerSeoMeta","useTagTitle","useTagBase","useTagMeta","useTagMetaFlat","useTagLink","link","useTagScript","script","useTagStyle","style","useTagNoscript","noscript","useHtmlAttrs","attrs","htmlAttrs","useBodyAttrs","bodyAttrs","useTitleTemplate","useServerTagTitle","useServerTagBase","useServerTagMeta","useServerTagMetaFlat","useServerTagLink","useServerTagScript","useServerTagStyle","useServerTagNoscript","useServerHtmlAttrs","useServerBodyAttrs","useServerTitleTemplate","Array","isArray","InternalKeySymbol","packObject","v","resolveKey","k2","index","arr","resolveValue","input2","paths","path","dedupeKeyPrefix","keyValue","packArray","packed","packedObj","pKey","isDedupeKey","join","unpackToArray","unpacked","kFn","resolveKeyData","vFn","resolveValueData","flat","unpackToString","value2","resolve","resolved","toString","wrapValue","keyValueSeparator","entrySeparator","MetaPackingSchema","robots","unpack","contentSecurityPolicy","metaKey","fbAppId","ogSiteName","msapplicationTileImage","msapplicationTileColor","msapplicationConfig","contentType","defaultStyle","xUaCompatible","refresh","packMeta","inputs","mappedPackingSchema","sk","replacer","_","letter","toUpperCase","OpenGraphInputs","SimpleArrayUnpackMetas","ColonPrefixKeys","PropertyPrefixKeys","resolveMetaKeyType","test","resolveMetaKeyValue","fixKeyCase","changeKeyCasingDeep","output","extras","propKey","inputKey","unpackedEntry","key2","property","meta2","name","resolvePackedMetaObjectValue","definition","seconds","url","normaliseTag","tagName","e","Promise","normaliseProps","children","e2","class","normaliseClassProp","c","isDataKey","String","TagEntityBits","normaliseEntryTags","tagPromises","resolvedInput","all","t","_i","WhitelistAttributes","filtered","tagValue","safeMeta","rel","safeScript","jsonVal","CorePlugins","DOMPlugins","delayFn","domDelayFn","createHead","createHeadCore","plugins","_hash","createServerHead","_eid","addHooks","updated","callHook","headEntries","use","plugin","entryOptions","activeEntry","dispose","patch","resolveTags","resolveCtx","tagCtx","_popSideEffectQueue","sde","_elMap","coreComposableNames","composableNames","unheadComposablesImports","from","imports"],"sources":["C:/D/Vue/polyscan/node_modules/unhead/dist/index.mjs"],"sourcesContent":["import { createHooks } from 'hookable';\nimport { PatchDomOnEntryUpdatesPlugin, maybeGetSSRHash } from '@unhead/dom';\nimport { defineHeadPlugin, resolveTitleTemplate, hashTag, hashCode, tagDedupeKey, HasElementTags, asArray as asArray$1, TagConfigKeys, TagsWithInnerContent, ValidHeadTags } from '@unhead/shared';\n\nconst TAG_WEIGHTS = {\n  // tags\n  base: -1,\n  title: 1\n};\nconst TAG_ALIASES = {\n  // relative scores to their default values\n  critical: -8,\n  high: -1,\n  low: 2\n};\nfunction tagWeight(tag) {\n  let weight = 10;\n  const priority = tag.tagPriority;\n  if (typeof priority === \"number\")\n    return priority;\n  if (tag.tag === \"meta\") {\n    if (tag.props.charset)\n      weight = -2;\n    if (tag.props[\"http-equiv\"] === \"content-security-policy\")\n      weight = 0;\n  } else if (tag.tag in TAG_WEIGHTS) {\n    weight = TAG_WEIGHTS[tag.tag];\n  }\n  if (typeof priority === \"string\" && priority in TAG_ALIASES) {\n    return weight + TAG_ALIASES[priority];\n  }\n  return weight;\n}\nconst SortModifiers = [{ prefix: \"before:\", offset: -1 }, { prefix: \"after:\", offset: 1 }];\nfunction SortTagsPlugin() {\n  return defineHeadPlugin({\n    hooks: {\n      \"tags:resolve\": (ctx) => {\n        const tagPositionForKey = (key) => ctx.tags.find((tag) => tag._d === key)?._p;\n        for (const { prefix, offset } of SortModifiers) {\n          for (const tag of ctx.tags.filter((tag2) => typeof tag2.tagPriority === \"string\" && tag2.tagPriority.startsWith(prefix))) {\n            const position = tagPositionForKey(\n              tag.tagPriority.replace(prefix, \"\")\n            );\n            if (typeof position !== \"undefined\")\n              tag._p = position + offset;\n          }\n        }\n        ctx.tags.sort((a, b) => a._p - b._p).sort((a, b) => tagWeight(a) - tagWeight(b));\n      }\n    }\n  });\n}\n\nfunction TitleTemplatePlugin() {\n  return defineHeadPlugin({\n    hooks: {\n      \"tags:resolve\": (ctx) => {\n        const { tags } = ctx;\n        let titleTemplateIdx = tags.findIndex((i) => i.tag === \"titleTemplate\");\n        const titleIdx = tags.findIndex((i) => i.tag === \"title\");\n        if (titleIdx !== -1 && titleTemplateIdx !== -1) {\n          const newTitle = resolveTitleTemplate(\n            tags[titleTemplateIdx].textContent,\n            tags[titleIdx].textContent\n          );\n          if (newTitle !== null) {\n            tags[titleIdx].textContent = newTitle || tags[titleIdx].textContent;\n          } else {\n            delete tags[titleIdx];\n          }\n        } else if (titleTemplateIdx !== -1) {\n          const newTitle = resolveTitleTemplate(\n            tags[titleTemplateIdx].textContent\n          );\n          if (newTitle !== null) {\n            tags[titleTemplateIdx].textContent = newTitle;\n            tags[titleTemplateIdx].tag = \"title\";\n            titleTemplateIdx = -1;\n          }\n        }\n        if (titleTemplateIdx !== -1) {\n          delete tags[titleTemplateIdx];\n        }\n        ctx.tags = tags.filter(Boolean);\n      }\n    }\n  });\n}\n\nfunction DeprecatedTagAttrPlugin() {\n  return defineHeadPlugin({\n    hooks: {\n      \"tag:normalise\": function({ tag }) {\n        if (typeof tag.props.body !== \"undefined\") {\n          tag.tagPosition = \"bodyClose\";\n          delete tag.props.body;\n        }\n      }\n    }\n  });\n}\n\nconst DupeableTags = [\"link\", \"style\", \"script\", \"noscript\"];\nfunction ProvideTagHashPlugin() {\n  return defineHeadPlugin({\n    hooks: {\n      \"tag:normalise\": ({ tag, resolvedOptions }) => {\n        if (resolvedOptions.experimentalHashHydration === true) {\n          tag._h = hashTag(tag);\n        }\n        if (tag.key && DupeableTags.includes(tag.tag)) {\n          tag._h = hashCode(tag.key);\n          tag.props[`data-h-${tag._h}`] = \"\";\n        }\n      }\n    }\n  });\n}\n\nconst ValidEventTags = [\"script\", \"link\", \"bodyAttrs\"];\nfunction EventHandlersPlugin() {\n  const stripEventHandlers = (mode, tag) => {\n    const props = {};\n    const eventHandlers = {};\n    Object.entries(tag.props).forEach(([key, value]) => {\n      if (key.startsWith(\"on\") && typeof value === \"function\")\n        eventHandlers[key] = value;\n      else\n        props[key] = value;\n    });\n    let delayedSrc;\n    if (mode === \"dom\" && tag.tag === \"script\" && typeof props.src === \"string\" && typeof eventHandlers.onload !== \"undefined\") {\n      delayedSrc = props.src;\n      delete props.src;\n    }\n    return { props, eventHandlers, delayedSrc };\n  };\n  return defineHeadPlugin({\n    hooks: {\n      \"ssr:render\": function(ctx) {\n        ctx.tags = ctx.tags.map((tag) => {\n          if (!ValidEventTags.includes(tag.tag))\n            return tag;\n          if (!Object.entries(tag.props).find(([key, value]) => key.startsWith(\"on\") && typeof value === \"function\"))\n            return tag;\n          tag.props = stripEventHandlers(\"ssr\", tag).props;\n          return tag;\n        });\n      },\n      \"dom:beforeRenderTag\": function(ctx) {\n        if (!ValidEventTags.includes(ctx.tag.tag))\n          return;\n        if (!Object.entries(ctx.tag.props).find(([key, value]) => key.startsWith(\"on\") && typeof value === \"function\"))\n          return;\n        const { props, eventHandlers, delayedSrc } = stripEventHandlers(\"dom\", ctx.tag);\n        if (!Object.keys(eventHandlers).length)\n          return;\n        ctx.tag.props = props;\n        ctx.tag._eventHandlers = eventHandlers;\n        ctx.tag._delayedSrc = delayedSrc;\n      },\n      \"dom:renderTag\": function(ctx) {\n        const $el = ctx.$el;\n        if (!ctx.tag._eventHandlers || !$el)\n          return;\n        const $eventListenerTarget = ctx.tag.tag === \"bodyAttrs\" && typeof window !== \"undefined\" ? window : $el;\n        Object.entries(ctx.tag._eventHandlers).forEach(([k, value]) => {\n          const sdeKey = `${ctx.tag._d || ctx.tag._p}:${k}`;\n          const eventName = k.slice(2).toLowerCase();\n          const eventDedupeKey = `data-h-${eventName}`;\n          ctx.markSideEffect(sdeKey, () => {\n          });\n          if ($el.hasAttribute(eventDedupeKey))\n            return;\n          const handler = value;\n          $el.setAttribute(eventDedupeKey, \"\");\n          $eventListenerTarget.addEventListener(eventName, handler);\n          if (ctx.entry) {\n            ctx.entry._sde[sdeKey] = () => {\n              $eventListenerTarget.removeEventListener(eventName, handler);\n              $el.removeAttribute(eventDedupeKey);\n            };\n          }\n        });\n        if (ctx.tag._delayedSrc) {\n          $el.setAttribute(\"src\", ctx.tag._delayedSrc);\n        }\n      }\n    }\n  });\n}\n\nconst UsesMergeStrategy = [\"templateParams\", \"htmlAttrs\", \"bodyAttrs\"];\nfunction DedupesTagsPlugin() {\n  return defineHeadPlugin({\n    hooks: {\n      \"tag:normalise\": function({ tag }) {\n        [\"hid\", \"vmid\", \"key\"].forEach((key) => {\n          if (tag.props[key]) {\n            tag.key = tag.props[key];\n            delete tag.props[key];\n          }\n        });\n        const generatedKey = tagDedupeKey(tag);\n        const dedupe = generatedKey || (tag.key ? `${tag.tag}:${tag.key}` : false);\n        if (dedupe)\n          tag._d = dedupe;\n      },\n      \"tags:resolve\": function(ctx) {\n        const deduping = {};\n        ctx.tags.forEach((tag) => {\n          const dedupeKey = (tag.key ? `${tag.tag}:${tag.key}` : tag._d) || tag._p;\n          const dupedTag = deduping[dedupeKey];\n          if (dupedTag) {\n            let strategy = tag?.tagDuplicateStrategy;\n            if (!strategy && UsesMergeStrategy.includes(tag.tag))\n              strategy = \"merge\";\n            if (strategy === \"merge\") {\n              const oldProps = dupedTag.props;\n              [\"class\", \"style\"].forEach((key) => {\n                if (tag.props[key] && oldProps[key]) {\n                  if (key === \"style\" && !oldProps[key].endsWith(\";\"))\n                    oldProps[key] += \";\";\n                  tag.props[key] = `${oldProps[key]} ${tag.props[key]}`;\n                }\n              });\n              deduping[dedupeKey].props = {\n                ...oldProps,\n                ...tag.props\n              };\n              return;\n            } else if (tag._e === dupedTag._e) {\n              dupedTag._duped = dupedTag._duped || [];\n              tag._d = `${dupedTag._d}:${dupedTag._duped.length + 1}`;\n              dupedTag._duped.push(tag);\n              return;\n            } else if (tagWeight(tag) > tagWeight(dupedTag)) {\n              return;\n            }\n          }\n          const propCount = Object.keys(tag.props).length + (tag.innerHTML ? 1 : 0) + (tag.textContent ? 1 : 0);\n          if (HasElementTags.includes(tag.tag) && propCount === 0) {\n            delete deduping[dedupeKey];\n            return;\n          }\n          deduping[dedupeKey] = tag;\n        });\n        const newTags = [];\n        Object.values(deduping).forEach((tag) => {\n          const dupes = tag._duped;\n          delete tag._duped;\n          newTags.push(tag);\n          if (dupes)\n            newTags.push(...dupes);\n        });\n        ctx.tags = newTags;\n      }\n    }\n  });\n}\n\nfunction processTemplateParams(s, p) {\n  if (typeof s !== \"string\")\n    return s;\n  function sub(token) {\n    if ([\"s\", \"pageTitle\"].includes(token))\n      return p.pageTitle;\n    let val;\n    if (token.includes(\".\")) {\n      val = token.split(\".\").reduce((acc, key) => acc ? acc[key] || void 0 : void 0, p);\n    } else {\n      val = p[token];\n    }\n    return typeof val !== \"undefined\" ? val || \"\" : false;\n  }\n  let decoded = s;\n  try {\n    decoded = decodeURI(s);\n  } catch {\n  }\n  const tokens = (decoded.match(/%(\\w+\\.+\\w+)|%(\\w+)/g) || []).sort().reverse();\n  tokens.forEach((token) => {\n    const re = sub(token.slice(1));\n    if (typeof re === \"string\") {\n      s = s.replace(new RegExp(`\\\\${token}(\\\\W|$)`, \"g\"), `${re}$1`).trim();\n    }\n  });\n  const sep = p.separator;\n  if (s.includes(sep)) {\n    if (s.endsWith(sep))\n      s = s.slice(0, -sep.length).trim();\n    if (s.startsWith(sep))\n      s = s.slice(sep.length).trim();\n    s = s.replace(new RegExp(`\\\\${sep}\\\\s*\\\\${sep}`, \"g\"), sep);\n  }\n  return s;\n}\nfunction TemplateParamsPlugin() {\n  return defineHeadPlugin({\n    hooks: {\n      \"tags:resolve\": (ctx) => {\n        const { tags } = ctx;\n        const title = tags.find((tag) => tag.tag === \"title\")?.textContent;\n        const idx = tags.findIndex((tag) => tag.tag === \"templateParams\");\n        const params = idx !== -1 ? tags[idx].props : {};\n        params.separator = params.separator || \"|\";\n        params.pageTitle = processTemplateParams(params.pageTitle || title || \"\", params);\n        for (const tag of tags) {\n          if ([\"titleTemplate\", \"title\"].includes(tag.tag) && typeof tag.textContent === \"string\") {\n            tag.textContent = processTemplateParams(tag.textContent, params);\n          } else if (tag.tag === \"meta\" && typeof tag.props.content === \"string\") {\n            tag.props.content = processTemplateParams(tag.props.content, params);\n          } else if (tag.tag === \"link\" && typeof tag.props.href === \"string\") {\n            tag.props.href = processTemplateParams(tag.props.href, params);\n          } else if (tag.tag === \"script\" && [\"application/json\", \"application/ld+json\"].includes(tag.props.type) && typeof tag.innerHTML === \"string\") {\n            try {\n              tag.innerHTML = JSON.stringify(JSON.parse(tag.innerHTML), (key, val) => {\n                if (typeof val === \"string\")\n                  return processTemplateParams(val, params);\n                return val;\n              });\n            } catch {\n            }\n          }\n        }\n        ctx.tags = tags.filter((tag) => tag.tag !== \"templateParams\");\n      }\n    }\n  });\n}\n\nconst IsBrowser = typeof window !== \"undefined\";\n\nlet activeHead;\nfunction setActiveHead(head) {\n  return activeHead = head;\n}\nfunction getActiveHead() {\n  return activeHead;\n}\n\nfunction useHead(input, options = {}) {\n  const head = getActiveHead();\n  if (head) {\n    const isBrowser = IsBrowser || head.resolvedOptions?.document;\n    if (options.mode === \"server\" && isBrowser || options.mode === \"client\" && !isBrowser)\n      return;\n    return head.push(input, options);\n  }\n}\n\nfunction useHeadSafe(input, options = {}) {\n  return useHead(input, {\n    ...options || {},\n    transform: whitelistSafeInput\n  });\n}\n\nfunction useServerHead(input, options = {}) {\n  return useHead(input, { ...options, mode: \"server\" });\n}\n\nfunction useServerHeadSafe(input, options = {}) {\n  return useHeadSafe(input, { ...options, mode: \"server\" });\n}\n\nfunction useSeoMeta(input, options) {\n  const { title, titleTemplate, ...meta } = input;\n  return useHead({\n    title,\n    titleTemplate,\n    meta: unpackMeta(meta)\n  }, options);\n}\n\nfunction useServerSeoMeta(input, options) {\n  return useSeoMeta(input, {\n    ...options || {},\n    mode: \"server\"\n  });\n}\n\nfunction useTagTitle(title) {\n  return useHead({ title });\n}\nfunction useTagBase(base) {\n  return useHead({ base });\n}\nfunction useTagMeta(meta) {\n  return useHead({ meta: asArray$1(meta) });\n}\nfunction useTagMetaFlat(meta) {\n  return useTagMeta(unpackMeta(meta));\n}\nfunction useTagLink(link) {\n  return useHead({ link: asArray$1(link) });\n}\nfunction useTagScript(script) {\n  return useHead({ script: asArray$1(script) });\n}\nfunction useTagStyle(style) {\n  return useHead({ style: asArray$1(style) });\n}\nfunction useTagNoscript(noscript) {\n  return useHead({ noscript: asArray$1(noscript) });\n}\nfunction useHtmlAttrs(attrs) {\n  return useHead({ htmlAttrs: attrs });\n}\nfunction useBodyAttrs(attrs) {\n  return useHead({ bodyAttrs: attrs });\n}\nfunction useTitleTemplate(titleTemplate) {\n  return useHead({ titleTemplate });\n}\nfunction useServerTagTitle(title) {\n  return useServerHead({ title });\n}\nfunction useServerTagBase(base) {\n  return useServerHead({ base });\n}\nfunction useServerTagMeta(meta) {\n  return useServerHead({ meta: asArray$1(meta) });\n}\nfunction useServerTagMetaFlat(meta) {\n  return useServerTagMeta(unpackMeta(meta));\n}\nfunction useServerTagLink(link) {\n  return useServerHead({ link: asArray$1(link) });\n}\nfunction useServerTagScript(script) {\n  return useServerHead({ script: asArray$1(script) });\n}\nfunction useServerTagStyle(style) {\n  return useServerHead({ style: asArray$1(style) });\n}\nfunction useServerTagNoscript(noscript) {\n  return useServerHead({ noscript: asArray$1(noscript) });\n}\nfunction useServerHtmlAttrs(attrs) {\n  return useServerHead({ htmlAttrs: attrs });\n}\nfunction useServerBodyAttrs(attrs) {\n  return useServerHead({ bodyAttrs: attrs });\n}\nfunction useServerTitleTemplate(titleTemplate) {\n  return useServerHead({ titleTemplate });\n}\n\nfunction asArray(input) {\n  return Array.isArray(input) ? input : [input];\n}\nconst InternalKeySymbol = \"_$key\";\nfunction packObject(input, options) {\n  const keys = Object.keys(input);\n  let [k, v] = keys;\n  options = options || {};\n  options.key = options.key || k;\n  options.value = options.value || v;\n  options.resolveKey = options.resolveKey || ((k2) => k2);\n  const resolveKey = (index) => {\n    const arr = asArray(options?.[index]);\n    return arr.find((k2) => {\n      if (typeof k2 === \"string\" && k2.includes(\".\")) {\n        return k2;\n      }\n      return k2 && keys.includes(k2);\n    });\n  };\n  const resolveValue = (k2, input2) => {\n    if (k2.includes(\".\")) {\n      const paths = k2.split(\".\");\n      let val = input2;\n      for (const path of paths)\n        val = val[path];\n      return val;\n    }\n    return input2[k2];\n  };\n  k = resolveKey(\"key\") || k;\n  v = resolveKey(\"value\") || v;\n  const dedupeKeyPrefix = input.key ? `${InternalKeySymbol}${input.key}-` : \"\";\n  let keyValue = resolveValue(k, input);\n  keyValue = options.resolveKey(keyValue);\n  return {\n    [`${dedupeKeyPrefix}${keyValue}`]: resolveValue(v, input)\n  };\n}\n\nfunction packArray(input, options) {\n  const packed = {};\n  for (const i of input) {\n    const packedObj = packObject(i, options);\n    const pKey = Object.keys(packedObj)[0];\n    const isDedupeKey = pKey.startsWith(InternalKeySymbol);\n    if (!isDedupeKey && packed[pKey]) {\n      packed[pKey] = Array.isArray(packed[pKey]) ? packed[pKey] : [packed[pKey]];\n      packed[pKey].push(Object.values(packedObj)[0]);\n    } else {\n      packed[isDedupeKey ? pKey.split(\"-\").slice(1).join(\"-\") || pKey : pKey] = packedObj[pKey];\n    }\n  }\n  return packed;\n}\n\nfunction unpackToArray(input, options) {\n  const unpacked = [];\n  const kFn = options.resolveKeyData || ((ctx) => ctx.key);\n  const vFn = options.resolveValueData || ((ctx) => ctx.value);\n  for (const [k, v] of Object.entries(input)) {\n    unpacked.push(...(Array.isArray(v) ? v : [v]).map((i) => {\n      const ctx = { key: k, value: i };\n      const val = vFn(ctx);\n      if (typeof val === \"object\")\n        return unpackToArray(val, options);\n      if (Array.isArray(val))\n        return val;\n      return {\n        [typeof options.key === \"function\" ? options.key(ctx) : options.key]: kFn(ctx),\n        [typeof options.value === \"function\" ? options.value(ctx) : options.value]: val\n      };\n    }).flat());\n  }\n  return unpacked;\n}\n\nfunction unpackToString(value, options) {\n  return Object.entries(value).map(([key, value2]) => {\n    if (typeof value2 === \"object\")\n      value2 = unpackToString(value2, options);\n    if (options.resolve) {\n      const resolved = options.resolve({ key, value: value2 });\n      if (resolved)\n        return resolved;\n    }\n    if (typeof value2 === \"number\")\n      value2 = value2.toString();\n    if (typeof value2 === \"string\" && options.wrapValue) {\n      value2 = value2.replace(new RegExp(options.wrapValue, \"g\"), `\\\\${options.wrapValue}`);\n      value2 = `${options.wrapValue}${value2}${options.wrapValue}`;\n    }\n    return `${key}${options.keyValueSeparator || \"\"}${value2}`;\n  }).join(options.entrySeparator || \"\");\n}\n\nconst MetaPackingSchema = {\n  robots: {\n    unpack: {\n      keyValueSeparator: \":\"\n    }\n  },\n  // Pragma directives\n  contentSecurityPolicy: {\n    unpack: {\n      keyValueSeparator: \" \",\n      entrySeparator: \"; \"\n    },\n    metaKey: \"http-equiv\"\n  },\n  fbAppId: {\n    keyValue: \"fb:app_id\",\n    metaKey: \"property\"\n  },\n  ogSiteName: {\n    keyValue: \"og:site_name\"\n  },\n  msapplicationTileImage: {\n    keyValue: \"msapplication-TileImage\"\n  },\n  /**\n   * Tile colour for windows\n   */\n  msapplicationTileColor: {\n    keyValue: \"msapplication-TileColor\"\n  },\n  /**\n   * URL of a config for windows tile.\n   */\n  msapplicationConfig: {\n    keyValue: \"msapplication-Config\"\n  },\n  charset: {\n    metaKey: \"charset\"\n  },\n  contentType: {\n    metaKey: \"http-equiv\"\n  },\n  defaultStyle: {\n    metaKey: \"http-equiv\"\n  },\n  xUaCompatible: {\n    metaKey: \"http-equiv\"\n  },\n  refresh: {\n    metaKey: \"http-equiv\"\n  }\n};\n\nfunction packMeta(inputs) {\n  const mappedPackingSchema = Object.entries(MetaPackingSchema).map(([key, value]) => [key, value.keyValue]);\n  return packArray(inputs, {\n    key: [\"name\", \"property\", \"httpEquiv\", \"http-equiv\", \"charset\"],\n    value: [\"content\", \"charset\"],\n    resolveKey(k) {\n      let key = mappedPackingSchema.filter((sk) => sk[1] === k)?.[0]?.[0] || k;\n      const replacer = (_, letter) => letter?.toUpperCase();\n      key = key.replace(/:([a-z])/g, replacer).replace(/-([a-z])/g, replacer);\n      return key;\n    }\n  });\n}\n\nconst OpenGraphInputs = [\"og:Image\", \"og:Video\", \"og:Audio\", \"twitter:Image\"];\nconst SimpleArrayUnpackMetas = [\"themeColor\"];\nconst ColonPrefixKeys = /^(og|twitter|fb)/;\nconst PropertyPrefixKeys = /^(og|fb)/;\nfunction resolveMetaKeyType(key) {\n  return PropertyPrefixKeys.test(key) ? \"property\" : MetaPackingSchema[key]?.metaKey || \"name\";\n}\nfunction resolveMetaKeyValue(key) {\n  return MetaPackingSchema[key]?.keyValue || fixKeyCase(key);\n}\nfunction fixKeyCase(key) {\n  key = key.replace(/([A-Z])/g, \"-$1\").toLowerCase();\n  if (ColonPrefixKeys.test(key)) {\n    key = key.replace(\"secure-url\", \"secure_url\").replace(/-/g, \":\");\n  }\n  return key;\n}\nfunction changeKeyCasingDeep(input) {\n  if (Array.isArray(input)) {\n    return input.map((entry) => changeKeyCasingDeep(entry));\n  }\n  if (typeof input !== \"object\" || Array.isArray(input))\n    return input;\n  const output = {};\n  for (const [key, value] of Object.entries(input))\n    output[fixKeyCase(key)] = changeKeyCasingDeep(value);\n  return output;\n}\nfunction unpackMeta(input) {\n  const extras = [];\n  OpenGraphInputs.forEach((key) => {\n    const propKey = key.toLowerCase();\n    const inputKey = `${key.replace(\":\", \"\")}`;\n    const val = input[inputKey];\n    if (typeof val === \"object\") {\n      (Array.isArray(val) ? val : [val]).forEach((entry) => {\n        if (!entry)\n          return;\n        const unpackedEntry = unpackToArray(entry, {\n          key: key.startsWith(\"og\") ? \"property\" : \"name\",\n          value: \"content\",\n          resolveKeyData({ key: key2 }) {\n            return fixKeyCase(`${propKey}${key2 !== \"url\" ? `:${key2}` : \"\"}`);\n          },\n          resolveValueData({ value }) {\n            return typeof value === \"number\" ? value.toString() : value;\n          }\n        });\n        extras.push(\n          ...unpackedEntry.sort((a, b) => a.property === propKey ? -1 : b.property === propKey ? 1 : 0)\n        );\n      });\n      delete input[inputKey];\n    }\n  });\n  SimpleArrayUnpackMetas.forEach((meta2) => {\n    if (input[meta2] && typeof input[meta2] !== \"string\") {\n      const val = Array.isArray(input[meta2]) ? input[meta2] : [input[meta2]];\n      delete input[meta2];\n      val.forEach((entry) => {\n        extras.push({\n          name: fixKeyCase(meta2),\n          ...entry\n        });\n      });\n    }\n  });\n  const meta = unpackToArray(input, {\n    key({ key }) {\n      return resolveMetaKeyType(key);\n    },\n    value({ key }) {\n      return key === \"charset\" ? \"charset\" : \"content\";\n    },\n    resolveKeyData({ key }) {\n      return resolveMetaKeyValue(key);\n    },\n    resolveValueData({ value, key }) {\n      if (value === null)\n        return \"_null\";\n      if (typeof value === \"object\")\n        return resolvePackedMetaObjectValue(value, key);\n      return typeof value === \"number\" ? value.toString() : value;\n    }\n  });\n  return [...extras, ...meta].filter((v) => typeof v.content === \"undefined\" || v.content !== \"_null\");\n}\nfunction resolvePackedMetaObjectValue(value, key) {\n  const definition = MetaPackingSchema[key];\n  if (key === \"refresh\")\n    return `${value.seconds};url=${value.url}`;\n  return unpackToString(\n    changeKeyCasingDeep(value),\n    {\n      entrySeparator: \", \",\n      keyValueSeparator: \"=\",\n      resolve({ value: value2, key: key2 }) {\n        if (value2 === null)\n          return \"\";\n        if (typeof value2 === \"boolean\")\n          return `${key2}`;\n      },\n      ...definition?.unpack\n    }\n  );\n}\n\nasync function normaliseTag(tagName, input, e) {\n  const tag = { tag: tagName, props: {} };\n  if (input instanceof Promise)\n    input = await input;\n  if (tagName === \"templateParams\") {\n    tag.props = input;\n    return tag;\n  }\n  if ([\"title\", \"titleTemplate\"].includes(tagName)) {\n    if (input && typeof input === \"object\") {\n      tag.textContent = input.textContent;\n      if (input.tagPriority)\n        tag.tagPriority = input.tagPriority;\n    } else {\n      tag.textContent = input;\n    }\n    return tag;\n  }\n  if (typeof input === \"string\") {\n    if (![\"script\", \"noscript\", \"style\"].includes(tagName))\n      return false;\n    if (tagName === \"script\" && (/^(https?:)?\\/\\//.test(input) || input.startsWith(\"/\")))\n      tag.props.src = input;\n    else\n      tag.innerHTML = input;\n    return tag;\n  }\n  tag.props = await normaliseProps(tagName, { ...input });\n  if (tag.props.children) {\n    tag.props.innerHTML = tag.props.children;\n  }\n  delete tag.props.children;\n  Object.keys(tag.props).filter((k) => TagConfigKeys.includes(k)).forEach((k) => {\n    if (![\"innerHTML\", \"textContent\"].includes(k) || TagsWithInnerContent.includes(tag.tag)) {\n      tag[k] = tag.props[k];\n    }\n    delete tag.props[k];\n  });\n  TagConfigKeys.forEach((k) => {\n    if (!tag[k] && e[k]) {\n      tag[k] = e[k];\n    }\n  });\n  [\"innerHTML\", \"textContent\"].forEach((k) => {\n    if (tag.tag === \"script\" && typeof tag[k] === \"string\" && [\"application/ld+json\", \"application/json\"].includes(tag.props.type)) {\n      try {\n        tag[k] = JSON.parse(tag[k]);\n      } catch (e2) {\n        tag[k] = \"\";\n      }\n    }\n    if (typeof tag[k] === \"object\")\n      tag[k] = JSON.stringify(tag[k]);\n  });\n  if (tag.props.class)\n    tag.props.class = normaliseClassProp(tag.props.class);\n  if (tag.props.content && Array.isArray(tag.props.content))\n    return tag.props.content.map((v) => ({ ...tag, props: { ...tag.props, content: v } }));\n  return tag;\n}\nfunction normaliseClassProp(v) {\n  if (typeof v === \"object\" && !Array.isArray(v)) {\n    v = Object.keys(v).filter((k) => v[k]);\n  }\n  return (Array.isArray(v) ? v.join(\" \") : v).split(\" \").filter((c) => c.trim()).filter(Boolean).join(\" \");\n}\nasync function normaliseProps(tagName, props) {\n  for (const k of Object.keys(props)) {\n    const isDataKey = k.startsWith(\"data-\");\n    if (props[k] instanceof Promise) {\n      props[k] = await props[k];\n    }\n    if (String(props[k]) === \"true\") {\n      props[k] = isDataKey ? \"true\" : \"\";\n    } else if (String(props[k]) === \"false\") {\n      if (isDataKey) {\n        props[k] = \"false\";\n      } else {\n        delete props[k];\n      }\n    }\n  }\n  return props;\n}\nconst TagEntityBits = 10;\nasync function normaliseEntryTags(e) {\n  const tagPromises = [];\n  Object.entries(e.resolvedInput).filter(([k, v]) => typeof v !== \"undefined\" && ValidHeadTags.includes(k)).forEach(([k, value]) => {\n    const v = asArray$1(value);\n    tagPromises.push(...v.map((props) => normaliseTag(k, props, e)).flat());\n  });\n  return (await Promise.all(tagPromises)).flat().filter(Boolean).map((t, i) => {\n    t._e = e._i;\n    t._p = (e._i << TagEntityBits) + i;\n    return t;\n  });\n}\n\nconst WhitelistAttributes = {\n  htmlAttrs: [\"id\", \"class\", \"lang\", \"dir\"],\n  bodyAttrs: [\"id\", \"class\"],\n  meta: [\"id\", \"name\", \"property\", \"charset\", \"content\"],\n  noscript: [\"id\", \"textContent\"],\n  script: [\"id\", \"type\", \"textContent\"],\n  link: [\"id\", \"color\", \"crossorigin\", \"fetchpriority\", \"href\", \"hreflang\", \"imagesrcset\", \"imagesizes\", \"integrity\", \"media\", \"referrerpolicy\", \"rel\", \"sizes\", \"type\"]\n};\nfunction whitelistSafeInput(input) {\n  const filtered = {};\n  Object.keys(input).forEach((key) => {\n    const tagValue = input[key];\n    if (!tagValue)\n      return;\n    switch (key) {\n      case \"title\":\n      case \"titleTemplate\":\n      case \"templateParams\":\n        filtered[key] = tagValue;\n        break;\n      case \"htmlAttrs\":\n      case \"bodyAttrs\":\n        filtered[key] = {};\n        WhitelistAttributes[key].forEach((a) => {\n          if (tagValue[a])\n            filtered[key][a] = tagValue[a];\n        });\n        Object.keys(tagValue || {}).filter((a) => a.startsWith(\"data-\")).forEach((a) => {\n          filtered[key][a] = tagValue[a];\n        });\n        break;\n      case \"meta\":\n        if (Array.isArray(tagValue)) {\n          filtered[key] = tagValue.map((meta) => {\n            const safeMeta = {};\n            WhitelistAttributes.meta.forEach((key2) => {\n              if (meta[key2] || key2.startsWith(\"data-\"))\n                safeMeta[key2] = meta[key2];\n            });\n            return safeMeta;\n          }).filter((meta) => Object.keys(meta).length > 0);\n        }\n        break;\n      case \"link\":\n        if (Array.isArray(tagValue)) {\n          filtered[key] = tagValue.map((meta) => {\n            const link = {};\n            WhitelistAttributes.link.forEach((key2) => {\n              const val = meta[key2];\n              if (key2 === \"rel\" && [\"stylesheet\", \"canonical\", \"modulepreload\", \"prerender\", \"preload\", \"prefetch\"].includes(val))\n                return;\n              if (key2 === \"href\") {\n                if (val.includes(\"javascript:\") || val.includes(\"data:\"))\n                  return;\n                link[key2] = val;\n              } else if (val || key2.startsWith(\"data-\")) {\n                link[key2] = val;\n              }\n            });\n            return link;\n          }).filter((link) => Object.keys(link).length > 1 && !!link.rel);\n        }\n        break;\n      case \"noscript\":\n        if (Array.isArray(tagValue)) {\n          filtered[key] = tagValue.map((meta) => {\n            const noscript = {};\n            WhitelistAttributes.noscript.forEach((key2) => {\n              if (meta[key2] || key2.startsWith(\"data-\"))\n                noscript[key2] = meta[key2];\n            });\n            return noscript;\n          }).filter((meta) => Object.keys(meta).length > 0);\n        }\n        break;\n      case \"script\":\n        if (Array.isArray(tagValue)) {\n          filtered[key] = tagValue.map((script) => {\n            const safeScript = {};\n            WhitelistAttributes.script.forEach((s) => {\n              if (script[s] || s.startsWith(\"data-\")) {\n                if (s === \"textContent\") {\n                  try {\n                    const jsonVal = typeof script[s] === \"string\" ? JSON.parse(script[s]) : script[s];\n                    safeScript[s] = JSON.stringify(jsonVal, null, 0);\n                  } catch (e) {\n                  }\n                } else {\n                  safeScript[s] = script[s];\n                }\n              }\n            });\n            return safeScript;\n          }).filter((meta) => Object.keys(meta).length > 0);\n        }\n        break;\n    }\n  });\n  return filtered;\n}\n\nfunction CorePlugins() {\n  return [\n    // dedupe needs to come first\n    DedupesTagsPlugin(),\n    SortTagsPlugin(),\n    TemplateParamsPlugin(),\n    TitleTemplatePlugin(),\n    ProvideTagHashPlugin(),\n    EventHandlersPlugin(),\n    DeprecatedTagAttrPlugin()\n  ];\n}\nfunction DOMPlugins(options = {}) {\n  return [\n    PatchDomOnEntryUpdatesPlugin({ document: options?.document, delayFn: options?.domDelayFn })\n  ];\n}\nfunction createHead(options = {}) {\n  const head = createHeadCore({\n    ...options,\n    plugins: [...DOMPlugins(options), ...options?.plugins || []]\n  });\n  if (options.experimentalHashHydration && head.resolvedOptions.document)\n    head._hash = maybeGetSSRHash(head.resolvedOptions.document);\n  setActiveHead(head);\n  return head;\n}\nfunction createServerHead(options = {}) {\n  const head = createHeadCore({\n    ...options,\n    mode: \"server\"\n  });\n  setActiveHead(head);\n  return head;\n}\nfunction createHeadCore(options = {}) {\n  let entries = [];\n  let _sde = {};\n  let _eid = 0;\n  const hooks = createHooks();\n  if (options?.hooks)\n    hooks.addHooks(options.hooks);\n  options.plugins = [\n    ...CorePlugins(),\n    ...options?.plugins || []\n  ];\n  options.plugins.forEach((p) => p.hooks && hooks.addHooks(p.hooks));\n  options.document = options.document || (IsBrowser ? document : void 0);\n  const updated = () => hooks.callHook(\"entries:updated\", head);\n  const head = {\n    resolvedOptions: options,\n    headEntries() {\n      return entries;\n    },\n    get hooks() {\n      return hooks;\n    },\n    use(plugin) {\n      if (plugin.hooks)\n        hooks.addHooks(plugin.hooks);\n    },\n    push(input, entryOptions) {\n      const activeEntry = {\n        _i: _eid++,\n        input,\n        _sde: {},\n        ...entryOptions\n      };\n      const mode = activeEntry?.mode || options.mode;\n      if (mode)\n        activeEntry.mode = mode;\n      entries.push(activeEntry);\n      updated();\n      return {\n        dispose() {\n          entries = entries.filter((e) => {\n            if (e._i !== activeEntry._i)\n              return true;\n            _sde = { ..._sde, ...e._sde || {} };\n            e._sde = {};\n            updated();\n            return false;\n          });\n        },\n        // a patch is the same as creating a new entry, just a nice DX\n        patch(input2) {\n          entries = entries.map((e) => {\n            if (e._i === activeEntry._i) {\n              activeEntry.input = e.input = input2;\n              updated();\n            }\n            return e;\n          });\n        }\n      };\n    },\n    async resolveTags() {\n      const resolveCtx = { tags: [], entries: [...entries] };\n      await hooks.callHook(\"entries:resolve\", resolveCtx);\n      for (const entry of resolveCtx.entries) {\n        const resolved = entry.resolvedInput || entry.input;\n        entry.resolvedInput = entry.transform ? entry.transform(resolved) : resolved;\n        if (entry.resolvedInput) {\n          for (const tag of await normaliseEntryTags(entry)) {\n            const tagCtx = { tag, entry, resolvedOptions: head.resolvedOptions };\n            await hooks.callHook(\"tag:normalise\", tagCtx);\n            resolveCtx.tags.push(tagCtx.tag);\n          }\n        }\n      }\n      await hooks.callHook(\"tags:resolve\", resolveCtx);\n      return resolveCtx.tags;\n    },\n    _popSideEffectQueue() {\n      const sde = { ..._sde };\n      _sde = {};\n      return sde;\n    },\n    _elMap: {}\n  };\n  head.hooks.callHook(\"init\", head);\n  return head;\n}\n\nconst coreComposableNames = [\n  \"getActiveHead\"\n];\nconst composableNames = [\n  \"useHead\",\n  \"useSeoMeta\",\n  \"useHeadSafe\",\n  \"useServerHead\",\n  \"useServerSeoMeta\",\n  \"useServerHeadSafe\",\n  // deprecated\n  \"useTagTitle\",\n  \"useTagBase\",\n  \"useTagMeta\",\n  \"useTagMetaFlat\",\n  \"useTagLink\",\n  \"useTagScript\",\n  \"useTagStyle\",\n  \"useTagNoscript\",\n  \"useHtmlAttrs\",\n  \"useBodyAttrs\",\n  \"useTitleTemplate\",\n  \"useServerTagTitle\",\n  \"useServerTagBase\",\n  \"useServerTagMeta\",\n  \"useServerTagMetaFlat\",\n  \"useServerTagLink\",\n  \"useServerTagScript\",\n  \"useServerTagStyle\",\n  \"useServerTagNoscript\",\n  \"useServerHtmlAttrs\",\n  \"useServerBodyAttrs\",\n  \"useServerTitleTemplate\"\n];\nconst unheadComposablesImports = [\n  {\n    from: \"unhead\",\n    imports: [...coreComposableNames, ...composableNames]\n  }\n];\n\nexport { CorePlugins, DOMPlugins, DedupesTagsPlugin, DeprecatedTagAttrPlugin, EventHandlersPlugin, ProvideTagHashPlugin, SortModifiers, SortTagsPlugin, TAG_ALIASES, TAG_WEIGHTS, TagEntityBits, TemplateParamsPlugin, TitleTemplatePlugin, activeHead, composableNames, createHead, createHeadCore, createServerHead, getActiveHead, normaliseClassProp, normaliseEntryTags, normaliseProps, normaliseTag, packMeta, processTemplateParams, resolveMetaKeyType, resolveMetaKeyValue, resolvePackedMetaObjectValue, setActiveHead, tagWeight, unheadComposablesImports, unpackMeta, useBodyAttrs, useHead, useHeadSafe, useHtmlAttrs, useSeoMeta, useServerBodyAttrs, useServerHead, useServerHeadSafe, useServerHtmlAttrs, useServerSeoMeta, useServerTagBase, useServerTagLink, useServerTagMeta, useServerTagMetaFlat, useServerTagNoscript, useServerTagScript, useServerTagStyle, useServerTagTitle, useServerTitleTemplate, useTagBase, useTagLink, useTagMeta, useTagMetaFlat, useTagNoscript, useTagScript, useTagStyle, useTagTitle, useTitleTemplate, whitelistSafeInput };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}