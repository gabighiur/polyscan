{"ast":null,"code":"import gsap from 'gsap';\nimport $ from 'jquery';\nexport default {\n  mounted() {\n    gsap.timeline().set('.ring', {\n      rotationY: 180,\n      cursor: 'grab'\n    }).set('.img', {\n      rotateY: i => i * -36,\n      transformOrigin: '50% 50% 500px',\n      z: -500,\n      backgroundImage: i => `url(https://picsum.photos/id/${i + 32}/600/400/)`,\n      backgroundPosition: i => this.getBgPos(i),\n      backfaceVisibility: 'hidden'\n    }).from('.img', {\n      duration: 1.5,\n      y: 200,\n      opacity: 0,\n      stagger: 0.1,\n      ease: 'expo'\n    }).add(() => {\n      $('.img').on('mouseenter', e => {\n        let current = e.currentTarget;\n        gsap.to('.img', {\n          opacity: (i, t) => t == current ? 1 : 0.5,\n          ease: 'power3'\n        });\n      });\n      $('.img').on('mouseleave', () => {\n        gsap.to('.img', {\n          opacity: 1,\n          ease: 'power2.inOut'\n        });\n      });\n    }, '-=0.5');\n    $(window).on('mousedown touchstart', this.dragStart);\n    $(window).on('mouseup touchend', this.dragEnd);\n  },\n  methods: {\n    dragStart(e) {\n      if (e.touches) e.clientX = e.touches[0].clientX;\n      this.xPos = Math.round(e.clientX);\n      gsap.set('.ring', {\n        cursor: 'grabbing'\n      });\n      $(window).on('mousemove touchmove', this.drag);\n    },\n    drag(e) {\n      if (e.touches) e.clientX = e.touches[0].clientX;\n      gsap.to('.ring', {\n        rotationY: `-=${(Math.round(e.clientX) - this.xPos) % 360}`,\n        onUpdate: () => {\n          gsap.set('.img', {\n            backgroundPosition: i => this.getBgPos(i)\n          });\n        }\n      });\n      this.xPos = Math.round(e.clientX);\n    },\n    dragEnd() {\n      $(window).off('mousemove touchmove', this.drag);\n      gsap.set('.ring', {\n        cursor: 'grab'\n      });\n    },\n    getBgPos(i) {\n      return `${100 - gsap.utils.wrap(0, 360, gsap.getProperty('.ring', 'rotationY') - 180 - i * 36) / 360 * 500}px 0px`;\n    }\n  }\n};","map":{"version":3,"names":["gsap","$","mounted","timeline","set","rotationY","cursor","rotateY","i","transformOrigin","z","backgroundImage","backgroundPosition","getBgPos","backfaceVisibility","from","duration","y","opacity","stagger","ease","add","on","e","current","currentTarget","to","t","window","dragStart","dragEnd","methods","touches","clientX","xPos","Math","round","drag","onUpdate","off","utils","wrap","getProperty"],"sources":["C:\\D\\Vue\\polyscan\\src\\components\\SliderComponent.vue"],"sourcesContent":["<template>\r\n    <div class=\"stage\">\r\n        <div class=\"container\">\r\n            <div class=\"ring\">\r\n                <div class=\"img\"></div>\r\n                <div class=\"img\"></div>\r\n                <div class=\"img\"></div>\r\n                <div class=\"img\"></div>\r\n                <div class=\"img\"></div>\r\n                <div class=\"img\"></div>\r\n                <div class=\"img\"></div>\r\n                <div class=\"img\"></div>\r\n                <div class=\"img\"></div>\r\n                <div class=\"img\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import gsap from 'gsap';\r\n    import $ from 'jquery';\r\n\r\n    export default {\r\n        mounted() {\r\n            \r\n\r\n            gsap.timeline()\r\n                .set('.ring', { rotationY: 180, cursor: 'grab' })\r\n                .set('.img', {\r\n                    rotateY: (i) => i * -36,\r\n                    transformOrigin: '50% 50% 500px',\r\n                    z: -500,\r\n                    backgroundImage: (i) => `url(https://picsum.photos/id/${i + 32}/600/400/)`,\r\n                    backgroundPosition: (i) => this.getBgPos(i),\r\n                    backfaceVisibility: 'hidden',\r\n                })\r\n                .from('.img', {\r\n                    duration: 1.5,\r\n                    y: 200,\r\n                    opacity: 0,\r\n                    stagger: 0.1,\r\n                    ease: 'expo',\r\n                })\r\n                .add(() => {\r\n                    $('.img').on('mouseenter', (e) => {\r\n                        let current = e.currentTarget;\r\n                        gsap.to('.img', { opacity: (i, t) => (t == current) ? 1 : 0.5, ease: 'power3' });\r\n                    });\r\n                    $('.img').on('mouseleave', () => {\r\n                        gsap.to('.img', { opacity: 1, ease: 'power2.inOut' });\r\n                    });\r\n                }, '-=0.5');\r\n\r\n            $(window).on('mousedown touchstart', this.dragStart);\r\n            $(window).on('mouseup touchend', this.dragEnd);\r\n        },\r\n        methods: {\r\n            dragStart(e) {\r\n                if (e.touches) e.clientX = e.touches[0].clientX;\r\n                this.xPos = Math.round(e.clientX);\r\n                gsap.set('.ring', { cursor: 'grabbing' });\r\n                $(window).on('mousemove touchmove', this.drag);\r\n            },\r\n            drag(e) {\r\n                if (e.touches) e.clientX = e.touches[0].clientX;\r\n\r\n                gsap.to('.ring', {\r\n                    rotationY: `-=${(Math.round(e.clientX) - this.xPos) % 360}`,\r\n                    onUpdate: () => { gsap.set('.img', { backgroundPosition: (i) => this.getBgPos(i) }); },\r\n                });\r\n\r\n                this.xPos = Math.round(e.clientX);\r\n            },\r\n            dragEnd() {\r\n                $(window).off('mousemove touchmove', this.drag);\r\n                gsap.set('.ring', { cursor: 'grab' });\r\n            },\r\n            getBgPos(i) {\r\n                return `${(100 - gsap.utils.wrap(0, 360, gsap.getProperty('.ring', 'rotationY') - 180 - i * 36) / 360 * 500)}px 0px`;\r\n            },\r\n        },\r\n    };\r\n</script>\r\n\r\n<style>\r\n    html, body, .stage, .ring, .img {\r\n        width: 100%;\r\n        height: 100%;\r\n        transform-style: preserve-3d;\r\n        user-select: none;\r\n    }\r\n\r\n    html, body, .stage {\r\n        overflow: hidden;\r\n        background: #000;\r\n    }\r\n\r\n    div, svg {\r\n        position: absolute;\r\n    }\r\n\r\n    .container {\r\n        perspective: 2000px;\r\n        width: 300px;\r\n        height: 400px;\r\n        left: 50%;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%);\r\n    }\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}